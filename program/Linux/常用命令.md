# 命令

~~~python
sudo reboot 0 # 重启
~~~

- 端口

~~~python
lsof -i:8080：查看8080端口占用
netstat -tunlp | grep 8000
ps 1777  # 查看进程详细信息
telnet 36.7.159.235 1022  # ping端口
ssh root@39.104.161.233
~~~

- 端口转发：[SSH端口转发](https://www.ibm.com/developerworks/cn/linux/l-cn-sshforward/index.html)
- 进程查看与kill

~~~python
ps aux | grep ${basedir}/tc_server.py | awk '{print $2}' | xargs kill -9
ps -ef | grep xxxxxxxx | cut -c 10-15 | xargs kill -9  # https://www.cnblogs.com/freinds/p/8074651.html
ls -al /proc/4170  # 查看启动位置
~~~

# 查看进程日志

~~~python
sudo egrep -i -r 'killed process' /var/log
sudo grep '14707' /var/log/messages
~~~

# Ubuntu

- 国内源设置

~~~python
备份/etc/apt/sources.list
#备份
cp /etc/apt/sources.list /etc/apt/sources.list.bak

在/etc/apt/sources.list文件前面添加如下条目
#添加阿里源
deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse

最后执行如下命令更新源
##更新
sudo apt-get update
sudo apt-get upgrade
~~~

- 安装软件

~~~python
apt-get update  # 更新安装源
apt-get install vim  # 安装vim编辑器
~~~

# centos

- 安装软件

~~~python
yum list installed
yum install tomcat
yum remove tomcat
yum update tomcat

~~~

- 升级软件

~~~python
gcc 升级：https://blog.csdn.net/yzpbright/article/details/81571645
依赖安装：https://blog.51cto.com/liuzhengwei521/2112118
wget https://ftp.gnu.org/gnu/gcc/gcc-9.1.0/gcc-9.1.0.tar.gz
tar -xzvf gcc-9.1.0.tar.gz
~~~

- rpm安装

~~~python
rpm -ivh your-package.rpm
~~~

## top命令

~~~python
查看进程：pidof srl_server
Top查看：top -p 14080
~~~

## 中文语言环境

- 安装中文语言包

~~~python
apt-get install language-pack-zh-hans language-pack-zh-hans-base language-pack-gnome-zh-hans language-pack-gnome-zh-hans-base
apt-get install `check-language-support -l zh-hans`
locale-gen zh_CN.UTF-8
~~~

- 终端输入中文问题

~~~python
打开/etc/environment
在下面添加如下两行
LANG="zh_CN.UTF-8"
LANGUAGE="zh_CN:zh:en_US:en"

打开 /var/lib/locales/supported.d/local
添加zh_CN.GB2312字符集，如下：
en_US.UTF-8 UTF-8
zh_CN.UTF-8 UTF-8
zh_CN.GBK GBK
zh_CN GB2312
保存后，执行命令：
locale-gen

打开/etc/default/locale
修改为：
LANG="zh_CN.UTF-8"
LANGUAGE="zh_CN:zh:en_US:en"

vim ~/.bashrc (不要加 sudo)
複製下述這三行 貼在最後面
export LANG=LANG="zh_CN.utf-8"
export LANGUAGE="zh_CN:zh:en_US:en"
export LC_ALL="zh_CN.utf-8"

source ~/.bashrc

ls -al ~/ 查看是否有效
~~~