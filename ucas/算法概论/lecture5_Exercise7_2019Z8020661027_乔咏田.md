# lecture5_Exercise7

- 学号：2019Z8020661027；姓名：乔咏田

# 题目

- 在一条街上有n所房子，$H[i](1\leq i\leq n)$ 是第i所房子离街道起点处的距离（以米为单位），假设 $H[1]< H[2]<\cdots  < H[n]$ 。目前该街道上还没有一所邮局，现计划新建若干所邮局，使得每所房子到最近的邮局距离在100米以内。试设计一个时间复杂度为O(n)的算法，计算出新建邮局的位置，即每所新建邮局离街道起点处的距离 $P[j](1\leq j\leq m)$ ,同时确保新建邮局个数m最小。


# 答案

## 算法流程

1. 在第一个房子后面，距离其100米的地方，设置第一个邮局。
2. 循环遍历第二个房子至最后一个房子：若当前房子的位置，距离最后一个邮局的距离超过100米，则在该房子的后面距离其100米的地方设置一个邮局。
3. 得到的邮局序列，即为最终结果。

## 时间复杂度

1. 第一个房子后面设置邮箱，需要常数1。
2. 算法流程2，循环遍历，需要步数 $n-1$ 。
3. 算法复杂度为：

$$
W(n)=1+n-1=n
$$

4. 因此，时间复杂度为  $O(n)$ 。

## 算法正确性

- 第一个房子，距离第一个邮局100米；循环过程中，会保证每个房子100米内都有邮局。因此“每所房子到最近的邮局距离在100米以内”得证。
- 邮局个数m的证明，使用反证法：假设找到的邮局个数可以继续减少1个。若减少第一个，则第一个房子100米内则没有邮局；若减少后面的任意一个，则循环中创建该邮局的房子i，100米内则没有邮局。因此，该邮局序列一个也不能少。都是必须的。
- 综上所述：该算法流程满足“每所房子到最近的邮局距离在100米以内，同时确保新建邮局个数m最小”。

## 算法代码与样例结果

- 例子计算结果

~~~
房子位置：[223, 248, 1293, 1439, 1442, 1485, 1572, 1585, 1614, 1930]
邮局位置：[323, 1393, 1672, 2030]
邮局个数：4
~~~

- 示例代码

~~~python
import random


if __name__ == "__main__":
    # 随机生成房子的位置
    H = random.sample(list(range(1, 2019)), k=10)
    H.sort()
    P = list()
    # 距离第一个房子100米的地方，设置第一个邮局
    P.append(H[0]+100)
    for i in range(1, len(H)):
        # 若当前房子距离最新的邮局距离超过100米，则添加一个邮局
        if H[i] > (P[-1] + 100):
            P.append(H[i]+100)
    print('房子位置：{}'.format(H))
    print('邮局位置：{}'.format(P))
    print('邮局个数：{}'.format(len(P)))
~~~

